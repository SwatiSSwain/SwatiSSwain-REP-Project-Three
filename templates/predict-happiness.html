<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Pursuit of Happyness</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="../static/css/style.css">
  <!-- Slick CSS -->
  <link rel="stylesheet" type="text/css" href="../static/slick/slick.css"/>

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!--link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/journal/bootstrap.min.css" rel="stylesheet" integrity="sha384-vjBZc/DqIqR687k5rf6bUQ6IVSOxQUi9TcwtvULstA7+YGi//g3oT2qkh8W1Drx9" crossorigin="anonymous"-->
  <!--link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/journal/bootstrap.min.css" rel="stylesheet" integrity="sha384-vjBZc/DqIqR687k5rf6bUQ6IVSOxQUi9TcwtvULstA7+YGi//g3oT2qkh8W1Drx9" crossorigin="anonymous"-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/pulse/bootstrap.min.css" integrity="sha384-L7+YG8QLqGvxQGffJ6utDKFwmGwtLcCjtwvonVZR/Ba2VzhpMwBz51GaXnUsuYbj" crossorigin="anonymous">

  <script type="text/javascript">
    function selectAll(){
      var items=document.getElementsByName('predictor');
      for(var i=0; i<items.length; i++){
        if(items[i].type=='checkbox')
          items[i].checked=true;
      }
    }
    
    function UnSelectAll(){
      var items=document.getElementsByName('predictor');
      for(var i=0; i<items.length; i++){
        if(items[i].type=='checkbox')
          items[i].checked=false;
      }
    }			
  </script>

  
</head>
<body>

  <!--Adding Nav Bar-->
  <!--Adding Latitude as Home screen link-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="/" ><div class="p-2  bg-secondary text-black">PH</div></a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

     <!--Adding other nav bar menus-->
     <div class="collapse navbar-collapse" id="navbarNavDropdown" >
      <ul class = "navbar-nav ml-auto navbar-right">
            
            <li class="nav-item">
              <a class="nav-link" href="/happiness-map">World Happiness Map</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/country_plots">Happiness Deep Dive</a>
          </li>
            <li class="nav-item">
                <a class="nav-link" href="/predict-happiness">Predict Happiness</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/model-in-action">Model in Action</a>
          </li>
            <li class="nav-item">
              <a class="nav-link" href="/happiness-indicators">Happiness Indicators</a>
          </li>
            <li class="nav-item">
                <a class="nav-link" href="/inference">Inference</a>
            </li>
      </ul>
    </div>
  </nav>
  <!--End of Nav Bar-->

  <!--Adding cointainer for Data & Visualization-->
  <div class="container-fluid  p-5"  >
    <div class="row" class="mx-auto">

      

        <!--div class="text-center"-->
          <div class="img-container">
        <img src="..\static\img\hp-predict-1.jpg" class="img-fluid center" class="rounded" class="img-thumbnail" style='width:80%'; alt="Responsive image">
      </div>
              
      <!--First Column in this Row-->
      <div class="col-md-12">
         <hr class="my-4">  
              
         <div class="alert alert-dismissible alert-secondary"> 
          <div>
                
           <h5><p class="mb-0 text-justify" style="padding-left: 2%;">
              The Happiness Prediction models takes user selected socio-economic indicators as predictors and runs 
            predictive models (Random Forest and Logistic Regression) to determine their relative importance in predicting happiness.</p>   
          </h5>        
          
         
        </div> 
          </div>     

        </div>
       
        <div class="col-md-6 mb-3">
       
              <div class="card border-primary mb-3" >
                <div class="card-header"><h5>Model Parameters</h5></div>
                <div class="card-body">
                  <h4 class="card-title">Predictors:</h4>
                  <p class="card-text text-justify">Selected 25 World Develompent Indicators (economic/societal) from the World Bank dataset.</p>
                    <h4 class="card-title">Target Groups:</h4>
                  <p class="card-text text-justify">Happiness Rank for various countries (from UN report) was grouped into the below 5 categories: <br>
                    1. Extremely Happy (Rank 1 - 32)  <br>
                    2. Moderately Happy (Rank 33 - 64)<br>
                    3. Apathetic (Rank 65 - 96) <br>
                    4. Moderately Sad (Rank 97 - 128) <br>
                    5. Very Sad (Rank > 128)<br> </p>
                </div>
              </div>
            </div>
              <div class="col-md-6">
              <div class="card border-primary mb-3" >
                <div class="card-header"><h5>Analysis</h5></div>
                <div class="card-body">
                  <h4 class="card-title">Random Forest:</h4>
                  <p class="card-text text-justify">There is at least one statistically significant factor 
                    between the variables that influence the Happiness Score. </p>
                    <h4 class="card-title">Logistic Regression:</h4>
                  <p class="card-text text-justify">Analyze how each target group is performing by itself. </p>
                    
                </div>
              </div>
            </div>
        

        <div class="col-md-5 mb-3 text-center">
          <div class="box div-box">

            <form action='/predict' method='POST' id='submitform'>

              <button type="Submit" class="btn btn-primary btn-lg">Run Predictive Model</button>
              <br>
              <br>
          
          <fieldset>
            
            <div class="card border-secondary mb-3 text-left" >
              <div class="card-header"><legend>Select your predictors</legend></div>
              <div class="card-body">

            <div class="form-group">
              <!--button id="selectall" type="button" class="btn btn-default action-button shiny-bound-input">Select All/Deselect All</button-->
               
              <input type="button" class="btn btn-outline-primary text-center" onclick='selectAll()' value="Select All"/>
              
              <input type="button" class="btn btn-outline-primary text-center" onclick='UnSelectAll()' value="Unselect All"/>
              <br><br>
    
              <div class="custom-control custom-radio">
              <input type="checkbox" id="Birth rate, crude (per 1,000 people)" name="predictor" value="Birth rate, crude (per 1,000 people)" checked>
              <label for="Birth rate, crude (per 1,000 people)">Birth rate, crude (per 1,000 people)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Employment in agriculture (% of total employment) (modeled ILO estimate)" name="predictor" value="Employment in agriculture (% of total employment) (modeled ILO estimate)" checked>
              <label for="Employment in agriculture (% of total employment) (modeled ILO estimate)">Employment in agriculture (% of total employment) (modeled ILO estimate)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Employment in agriculture, female (% of female employment) (modeled ILO estimate)" name="predictor" value="Employment in agriculture, female (% of female employment) (modeled ILO estimate)" checked>
              <label for="Employment in agriculture, female (% of female employment) (modeled ILO estimate)">Employment in agriculture, female (% of female employment) (modeled ILO estimate)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Employment in industry, female (% of female employment) (modeled ILO estimate)" name="predictor" value="Employment in industry, female (% of female employment) (modeled ILO estimate)" checked>
              <label for="Employment in industry, female (% of female employment) (modeled ILO estimate)">Employment in industry, female (% of female employment) (modeled ILO estimate)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Employment in services, female (% of female employment) (modeled ILO estimate)" name="predictor" value="Employment in services, female (% of female employment) (modeled ILO estimate)" checked>
              <label for="Employment in services, female (% of female employment) (modeled ILO estimate)">Employment in services, female (% of female employment) (modeled ILO estimate)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Employment to population ratio, 15+, male (%) (modeled ILO estimate)" name="predictor" value="Employment to population ratio, 15+, male (%) (modeled ILO estimate)" checked>
              <label for="Employment to population ratio, 15+, male (%) (modeled ILO estimate)">Employment to population ratio, 15+, male (%) (modeled ILO estimate)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Fixed telephone subscriptions (per 100 people)" name="predictor" value="Fixed telephone subscriptions (per 100 people)" checked>
              <label for="Fixed telephone subscriptions (per 100 people)">Fixed telephone subscriptions (per 100 people)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="GDP per capita (current US$)" name="predictor" value="GDP per capita (current US$)" checked>
              <label for="GDP per capita (current US$)">GDP per capita (current US$)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="GDP per capita growth (annual %)" name="predictor" value="GDP per capita growth (annual %)" checked>
              <label for="GDP per capita growth (annual %)">GDP per capita growth (annual %)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Incidence of tuberculosis (per 100,000 people)" name="predictor" value="Incidence of tuberculosis (per 100,000 people)" checked>
              <label for="Incidence of tuberculosis (per 100,000 people)">Incidence of tuberculosis (per 100,000 people)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Individuals using the Internet (% of population)" name="predictor" value="Individuals using the Internet (% of population)" checked>
              <label for="Individuals using the Internet (% of population)">Individuals using the Internet (% of population)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Labor force participation rate, total (% of total population ages 15+) (modeled ILO estimate)" name="predictor" value="Labor force participation rate, total (% of total population ages 15+) (modeled ILO estimate)" checked>
              <label for="Labor force participation rate, total (% of total population ages 15+) (modeled ILO estimate)">Labor force participation rate, total (% of total population ages 15+) (modeled ILO estimate)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Life expectancy at birth, female (years)" name="predictor" value="Life expectancy at birth, female (years)" checked>
              <label for="Life expectancy at birth, female (years)">Life expectancy at birth, female (years)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Life expectancy at birth, male (years)" name="predictor" value="Life expectancy at birth, male (years)" checked>
              <label for="Life expectancy at birth, male (years)">Life expectancy at birth, male (years)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Life expectancy at birth, total (years)" name="predictor" value="Life expectancy at birth, total (years)" checked>
              <label for="Life expectancy at birth, total (years)">Life expectancy at birth, total (years)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Lifetime risk of maternal death (%)" name="predictor" value="Lifetime risk of maternal death (%)" checked>
              <label for="Lifetime risk of maternal death (%)">Lifetime risk of maternal death (%)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Mobile cellular subscriptions (per 100 people)" name="predictor" value="Mobile cellular subscriptions (per 100 people)" checked>
              <label for="Mobile cellular subscriptions (per 100 people)">Mobile cellular subscriptions (per 100 people)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Mortality rate, infant (per 1,000 live births)" name="predictor" value="Mortality rate, infant (per 1,000 live births)" checked>
              <label for="Mortality rate, infant (per 1,000 live births)">Mortality rate, infant (per 1,000 live births)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Net migration" name="predictor" value="Net migration" checked>
              <label for="Net migration">Net migration</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Rural population (% of total population)" name="predictor" value="Rural population (% of total population)" checked>
              <label for="Rural population (% of total population)">Rural population (% of total population)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Secure Internet servers (per 1 million people)" name="predictor" value="Secure Internet servers (per 1 million people)" checked>
              <label for="Secure Internet servers (per 1 million people)">Secure Internet servers (per 1 million people)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Survival to age 65, female (% of cohort)" name="predictor" value="Survival to age 65, female (% of cohort)" checked>
              <label for="Survival to age 65, female (% of cohort)">Survival to age 65, female (% of cohort)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Survival to age 65, male (% of cohort)" name="predictor" value="Survival to age 65, male (% of cohort)" checked>
              <label for="Survival to age 65, male (% of cohort)">Survival to age 65, male (% of cohort)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Tuberculosis case detection rate (%, all forms)" name="predictor" value="Tuberculosis case detection rate (%, all forms)" checked>
              <label for="Tuberculosis case detection rate (%, all forms)">Tuberculosis case detection rate (%, all forms)</label>
            </div>
            <div class="custom-control custom-radio">
              <input type="checkbox" id="Urban population (% of total population)" name="predictor" value="Urban population (% of total population)" checked>
              <label for="Urban population (% of total population)">Urban population (% of total population)</label>
            </div>
          </div>
        
        </div></div>
          </fieldset>
        
        <!--End of first box-->
        </div>


        
        <!--End of first column-->
        </div>

    
        
        <!--p><a class="btn btn-primary btn-lg btn-lg btn-block" href="/predict" role="button">Run Predictive Model</a></p-->
        

      </form>
          <!--Second Column in this Row-->
          <div class="col-md-7">
            <div class="box div-box"> 

        <!--div class="col-sm-4"-->
       

          <div class="card border-primary mb-3" >
            <div class="card-header"><h5>Random Forest Model Score: Rsqr = {{model_score}}</h5></div>
            <div class="card-body">
              <h4 class="card-title">List of Predictors:</h4>
              <p class="card-text text-justify">{{predictor_list}}</p>
            </div>
          </div>
          <!--/div-->

          <ol class="breadcrumb">
            <li class="breadcrumb-item active text-center"><h4>Logistic Regression - Classification Report</h4></li>
          </ol>
          <br>
          <img src="data:image/png;base64, {{ plot_url }}">

        <!--Table summarizing predictorsstats-->
        
        
        <ol class="breadcrumb">
          <li class="breadcrumb-item active text-center"><h4>Relative Importance of Predictors (Random Forest model)</h4></li>
        </ol>
        
        <div class="table-responsive col-lg-12 col-md-12 col-sm-12 col-xs-12">   

          {{ predictor|safe}}
      
          </div>
      </div>

    </div>
    
    <!--End of row-->
    </div>
  
  <!--End of container-->
  </div>

 <!-- Footer -->

  <div class="panel-footer panel-custom bg-primary py-2 text-center">
    Â© Copyright Coding BootCamp 2020
  </div>

  <!-- End of Footer -->



<!--script src="../static/js/neighborhood-force.js"></script-->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

<!-- slick -->
<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="../static/slick/slick.min.js"></script>
<script type="text/javascript" src="../static/js/slick_init.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src='https://kit.fontawesome.com/a076d05399.js'></script>


</body>

</html>
